<html>
  <body>
    <button onclick="start()">Test!</button>
  </body>
  <script type="module">
    import { Speaker } from "../dist/index.js";

    window.start = async function start() {
      const speaker = new Speaker();
      speaker.on("start", () => {
        console.log("started");
      });
      speaker.on("stop", () => {
        console.log("stopped");
      });

      // prettier-ignore
      const speechData = [255,243,68,196,0,0,0,3,72,1,64,0,0,240,110,208,63,223,13,140,92,30,98,111,248,12,8,70,255,56,120,72,44,127,237,60,136,88,255,240,104,16,98,28,16,198,66,19,255,241,96,140,156,243,229,255,255,241,80,144,76,31,152,99,30,191,255,255,228,242,230,31,249,159,255,255,255,234,78,122,51,59,30,113,33,174,72,42,241,250,21,37,185,18,115,129,255,243,68,196,83,18,123,42,44,1,146,80,0,47,231,56,45,205,205,91,109,191,231,54,197,44,196,31,210,103,220,177,36,156,31,24,241,188,152,39,123,54,75,192,120,144,24,35,26,145,11,129,24,5,76,236,135,175,62,129,204,241,89,66,196,114,20,202,135,234,39,129,68,151,151,211,223,253,25,216,216,101,10,21,148,157,17,9,112,100,113,19,83,174,251,175,255,243,68,196,92,31,219,38,148,1,137,88,0,255,237,19,214,214,191,206,32,200,163,139,211,55,69,37,31,255,255,255,251,226,170,186,155,170,152,159,167,90,185,229,91,111,97,243,213,118,187,161,193,22,42,142,180,162,239,211,58,102,147,243,185,179,212,180,227,215,150,23,218,180,143,223,49,128,197,105,0,197,178,57,128,60,69,77,187,19,7,144,24,24,171,73,255,243,68,196,47,29,50,162,160,1,194,96,1,44,255,69,117,39,203,135,196,232,207,21,210,149,141,232,214,64,210,218,205,245,219,123,80,34,172,27,19,143,49,118,24,221,171,91,182,172,205,171,110,158,251,108,239,219,39,92,219,119,124,253,111,111,220,223,167,236,196,112,83,57,19,6,161,243,213,23,86,24,89,165,14,10,160,6,6,204,223,42,1,247,175,253,255,243,68,196,13,20,241,222,172,0,96,144,152,106,119,252,204,250,255,111,170,22,140,161,128,153,39,46,76,3,69,193,230,52,120,209,67,47,42,118,22,114,13,44,208,237,5,66,226,41,37,93,169,89,215,228,194,252,140,116,136,159,237,172,250,5,206,149,145,186,242,99,61,98,165,139,107,77,243,125,187,148,150,45,169,118,192,89,82,244,65,238,208,92,211,204,255,243,68,196,12,21,153,126,172,0,201,88,148,119,74,166,114,235,57,56,242,161,47,147,205,75,234,153,204,213,4,7,57,92,103,21,176,19,49,217,39,156,63,137,75,107,231,122,111,10,232,43,145,66,173,57,148,23,225,210,231,109,159,162,172,177,171,229,88,32,104,234,217,255,255,182,166,241,220,163,94,225,139,61,22,173,221,106,195,152,39,186,80,221,162,6,255,243,68,196,8,17,209,126,184,0,193,88,148,253,30,35,16,39,209,127,16,51,191,124,252,230,253,11,161,74,128,133,116,76,28,30,174,42,1,200,81,99,81,46,189,38,180,153,156,166,110,175,154,172,164,105,214,171,106,180,165,168,205,230,23,12,187,171,255,254,255,208,166,154,125,101,170,169,133,81,145,236,22,48,233,136,233,182,23,222,101,203,199,30,131,245,255,243,68,196,19,22,169,130,180,0,210,30,148,203,123,149,122,126,255,213,243,116,238,122,3,64,7,5,64,45,148,226,101,82,226,174,31,209,152,88,144,212,238,161,211,231,31,121,198,115,109,91,111,216,31,49,56,184,171,149,205,240,161,66,154,124,98,242,66,142,43,106,127,255,237,255,184,169,146,174,43,215,45,95,77,251,212,102,17,235,142,28,21,12,222,160,255,243,68,196,11,20,209,126,172,0,203,22,148,120,246,150,165,48,5,185,67,184,17,94,93,157,111,38,142,46,202,87,58,22,165,124,53,104,166,112,169,115,75,213,58,225,157,57,112,58,4,38,2,209,244,214,206,57,245,63,255,186,116,90,213,137,201,27,52,216,218,221,45,133,93,112,170,33,163,223,255,255,255,164,178,85,152,184,250,152,235,147,114,81,179,11,255,243,68,196,10,18,209,50,152,0,219,214,113,141,8,185,112,158,5,18,144,178,22,74,100,43,122,182,223,214,176,220,183,9,68,169,174,88,163,73,243,91,131,178,172,111,121,234,36,26,176,241,69,138,32,112,150,113,36,9,194,25,46,43,255,250,249,77,135,103,241,218,85,60,189,120,159,252,213,179,78,40,12,105,7,107,245,65,204,34,68,193,64,216,121,102,255,243,68,196,17,20,121,122,160,0,219,14,148,19,198,94,192,28,218,232,71,149,48,115,233,88,215,175,11,162,48,60,120,225,66,17,33,17,227,191,61,215,234,185,60,99,145,42,72,37,8,130,0,186,13,2,50,37,8,177,189,190,138,154,24,234,167,105,76,126,42,247,90,183,255,255,255,208,239,6,56,7,211,59,16,212,239,100,31,17,196,40,180,224,94,137,255,243,68,196,18,21,121,74,168,0,195,206,148,116,218,75,68,105,101,119,43,37,31,106,86,232,242,198,113,209,220,229,13,32,143,82,185,172,39,20,147,60,165,181,104,60,122,200,38,36,62,16,139,11,143,179,43,58,175,167,90,43,20,114,68,133,64,0,83,69,142,138,255,255,255,254,197,74,150,91,19,237,128,105,160,37,131,32,3,246,42,119,189,149,166,20,255,243,68,196,15,18,177,94,168,0,195,10,148,185,211,72,165,220,224,124,210,183,117,117,153,93,5,118,171,178,90,77,95,132,173,0,196,127,75,20,111,218,177,29,85,197,133,0,80,32,152,68,16,225,223,109,90,187,109,178,179,148,66,11,14,113,250,191,255,255,253,237,173,206,0,5,53,253,16,220,90,34,165,88,103,13,34,97,216,140,98,27,94,65,241,241,255,243,68,196,23,18,97,122,160,0,195,14,148,202,246,158,129,164,145,185,29,169,105,123,109,186,212,40,73,213,143,177,186,213,150,216,117,21,15,10,11,74,156,58,199,186,157,255,255,177,200,115,61,90,108,117,135,135,127,255,255,254,206,165,176,50,0,76,108,236,14,98,171,154,89,143,22,20,69,18,224,103,24,27,43,100,162,148,40,147,37,102,184,169,18,194,255,243,68,196,32,16,152,250,132,0,202,82,112,152,75,81,53,20,139,181,132,71,217,169,228,170,89,183,5,136,104,80,38,16,138,141,9,23,18,142,66,84,185,87,95,60,130,202,135,136,79,154,240,3,34,138,45,152,48,102,130,33,141,12,23,82,90,100,103,102,160,17,4,236,138,205,210,214,111,99,152,145,202,237,233,239,90,113,43,25,110,230,122,223,239,117,255,243,68,196,48,17,96,250,120,0,211,18,112,100,208,17,136,200,149,128,92,76,160,96,235,63,218,207,230,147,103,255,242,129,250,180,59,46,29,51,140,141,104,32,224,231,137,104,8,97,147,4,14,32,173,76,72,38,23,7,68,70,110,90,51,225,58,91,134,83,159,251,218,255,125,153,166,193,111,173,97,88,84,30,161,13,97,48,35,142,97,234,206,42,202,234,255,243,68,196,61,18,25,2,108,0,210,24,112,162,175,245,196,64,2,191,255,197,136,185,85,80,194,101,2,18,70,94,144,32,97,160,66,99,15,20,78,6,145,131,92,215,17,71,178,129,80,111,139,220,52,192,178,48,139,62,235,16,169,141,115,223,227,236,237,162,180,210,164,60,9,195,242,97,92,37,67,200,131,91,164,215,219,255,91,127,171,247,246,64,248,77,255,243,68,196,71,18,9,174,108,0,209,154,148,244,170,71,35,156,80,30,39,22,97,12,48,52,2,145,18,165,170,182,42,242,192,161,50,110,12,166,156,41,3,100,178,146,183,25,74,7,201,108,243,176,47,106,105,187,202,178,108,206,39,141,112,188,160,61,147,9,0,220,81,231,207,104,145,211,250,201,42,14,0,15,150,87,255,192,53,74,83,114,208,237,80,89,255,243,68,196,81,18,88,246,100,0,202,88,112,193,143,59,41,188,98,136,189,99,84,212,212,210,237,195,164,72,5,22,127,36,105,242,103,181,75,193,45,35,149,79,79,148,56,225,120,44,136,97,84,176,196,66,128,112,90,5,144,189,31,29,243,124,239,79,255,255,209,205,98,36,38,80,87,255,245,42,26,199,197,35,194,229,237,82,6,86,200,173,128,170,132,82,255,243,68,196,90,18,73,190,68,0,201,148,148,141,230,109,69,190,180,233,92,221,133,95,56,69,126,203,38,100,108,64,193,107,1,173,165,84,73,6,73,15,89,133,40,218,196,53,33,107,110,250,170,121,98,111,170,231,122,24,89,31,253,157,133,106,14,203,167,130,66,18,243,187,36,3,97,132,210,174,193,86,72,97,250,161,66,186,140,48,150,33,112,124,179,41,255,243,68,196,99,17,17,2,12,0,97,134,112,99,22,117,7,224,130,197,185,188,92,52,100,80,26,28,196,33,194,116,190,252,250,131,13,117,255,121,182,52,82,41,96,120,93,181,164,64,93,252,160,215,83,51,8,65,19,242,18,101,233,93,14,20,66,11,102,138,11,124,163,58,155,77,66,128,3,135,98,39,188,80,217,86,222,19,36,176,8,176,52,244,210,183,255,243,68,196,113,17,248,149,252,0,96,134,76,214,26,70,226,216,137,231,117,229,78,136,143,66,139,248,178,221,221,80,224,234,29,140,14,130,190,13,42,2,176,184,96,232,136,64,161,73,139,14,81,204,67,174,147,220,8,158,22,165,162,234,49,37,97,58,30,134,35,38,15,161,138,120,145,225,38,163,94,172,137,73,29,172,232,148,145,185,158,74,72,220,175,218,255,243,68,196,124,17,8,133,236,0,96,198,72,141,202,124,125,55,18,119,100,138,45,165,38,73,248,194,26,234,130,80,254,83,28,254,162,139,243,21,37,249,69,151,235,36,255,202,83,125,180,42,252,195,78,244,73,127,236,73,255,140,181,11,209,148,72,203,129,230,129,66,144,212,240,44,54,40,39,60,104,148,136,169,85,23,128,178,53,159,217,101,145,208,201,148,255,243,68,196,138,26,25,53,216,0,195,12,113,48,48,98,48,200,8,36,42,43,170,104,42,42,44,30,52,21,20,22,252,88,93,134,64,66,194,172,255,214,40,223,254,44,205,66,234,58,143,162,22,62,13,212,17,144,139,114,1,138,24,14,112,192,24,16,208,130,117,20,88,64,99,129,132,87,132,225,134,16,28,24,38,3,88,112,44,100,128,68,8,76,19,89,255,243,68,196,116,17,24,185,92,0,122,70,76,160,176,12,128,70,144,136,29,149,144,8,154,214,128,183,28,157,13,26,65,219,0,253,14,244,85,0,136,44,84,60,77,116,113,74,165,246,201,26,187,205,32,139,190,78,51,179,49,46,128,65,240,192,156,144,70,20,6,194,34,102,150,42,80,141,1,113,129,24,172,72,125,132,206,46,162,101,70,131,228,4,236,77,255,243,68,196,130,18,8,153,196,0,121,134,76,36,215,133,162,33,44,117,69,211,73,56,110,36,8,4,44,172,20,19,172,65,213,179,86,6,234,212,190,161,53,67,86,205,150,26,199,35,52,49,133,47,43,145,163,160,227,25,199,67,148,16,119,24,202,161,150,160,129,160,101,67,220,19,77,53,14,122,42,254,153,73,127,236,148,234,1,35,81,44,241,123,9,74,255,243,68,196,140,32,218,117,216,0,194,70,185,196,16,116,64,70,129,184,90,197,74,148,94,22,206,112,145,34,9,197,227,156,104,144,35,208,52,120,21,17,134,64,68,130,65,224,40,84,132,200,44,44,71,21,20,255,235,21,110,44,46,43,88,168,179,98,194,226,184,168,176,123,91,56,181,76,65,77,69,51,46,57,57,46,53,85,85,85,85,85,85,85,85,85,255,243,68,196,91,17,232,161,152,0,98,76,76,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85,85];

      const getAudioBuffer = () =>
        new Uint8Array([...speechData, ...speechData]).buffer;

      speaker.play(getAudioBuffer());
      setTimeout(() => {
        speaker.play(getAudioBuffer());
      }, 1000);
      setTimeout(() => {
        speaker.play(getAudioBuffer(), {
          trackId: "my-track",
          interrupt: "all",
        });
      }, 1000);
      setTimeout(() => {
        speaker.play(getAudioBuffer(), {
          trackId: "my-track",
          interrupt: "track",
        });
      }, 1500);
      setTimeout(() => {
        speaker.play(getAudioBuffer(), {
          trackId: "my-track-2",
          interrupt: "track",
        });
      }, 2000);
      setTimeout(() => {
        speaker.play(getAudioBuffer(), {
          trackId: "my-track-2",
          interrupt: "none",
        });
      }, 2500);
    };
  </script>
</html>
